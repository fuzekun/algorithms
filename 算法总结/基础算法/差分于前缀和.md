# 差分与前缀和





## 前缀和

### 0. 诀窍

应该是y1 - 1, 或者x1 - 1。对应这种。类比于一维的，都是减去b - 1。就是起始点减去1。

对于一维前缀和, 注意写成函数的使用：

> sum(n)维护[1, n]的前缀和。
>
> 求解[a, b]的和,**写成函数**：
>
> sum[b] - sum[a - 1]
>
> 然后
>
> 调用的使用从1开始编码。一般是(a + 1, b + 1);





### 1. 易错点

> 1. 如果getSum没有错，很有可能是main函数调用过程中，出现了x1, y1, x2, y2写错的情况。
> 2. 最容易错的就是x1, y1, x2, y2的对应写错。最好使用手写 + 抄写 + 检查的方式进行检测。
> 3. 对于一维前缀和，容易出现混乱，所以强制使用函数，并且强制从1开始编码。



![image-20220611171933554](D:\blgs\source\imgs\image-20220611171933554.png)



## 差分

![image-20220611171827615](D:\blgs\source\imgs\image-20220611171827615.png)



## 题目

#### [2132. 用邮票贴满网格图](https://leetcode.cn/problems/stamping-the-grid/)

差分与前缀和的综合应用。



使用前缀进行判断区域内是否有错号。

使用差分进行维护区域中的动态修改。

最后进行求差分数组的前缀和，判断是否已经全部被覆盖了



注意

> 应该注意边界问题。邮票如果出界了，就没法进行求前缀和，也没法进行差分数组的修改了。
>
> 检测的时候，注意grid(i, j) == 1，就算b(i, j) == 0也是合法的状态。
>
> 或者直接使用grid充当b也行，此时应该注意(n, m)的边界问题。